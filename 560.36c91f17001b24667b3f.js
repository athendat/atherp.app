"use strict";(self.webpackChunkpa006_atherp_front=self.webpackChunkpa006_atherp_front||[]).push([[560],{1560:(P,g,o)=>{o.r(g),o.d(g,{CustomersModule:()=>$});var l=o(4576),u=o(7319),p=o(4296),f=o(195),c=o(3324),d=o(2578),m=o(2397),x=o(6006),_=o(636),h=o(7194),v=o(2812),Z=o(8561),C=o(7914),t=o(2741),T=o(7554),A=o(4847),b=o(1749),y=o(7617),w=o(3700),I=o(823),Q=o(9018),a=o(6274);function U(e,i){if(1&e&&t._UZ(0,"img",52),2&e){const n=t.oxw().$implicit;t.Q6J("alt","Product thumbnail image")("src",n.thumbnail,t.LSH)}}function J(e,i){1&e&&(t.TgZ(0,"div",53),t._uU(1," NO THUMB "),t.qZA())}function k(e,i){1&e&&(t.TgZ(0,"div",54),t._UZ(1,"div",55),t.qZA())}function q(e,i){1&e&&(t.TgZ(0,"div",56),t._UZ(1,"div",57),t.qZA())}function N(e,i){1&e&&(t.TgZ(0,"div",58),t._UZ(1,"div",59),t.qZA())}function F(e,i){1&e&&(t.ynx(0),t._UZ(1,"mat-icon",60),t.BQk()),2&e&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check"))}function Y(e,i){1&e&&(t.ynx(0),t._UZ(1,"mat-icon",61),t.BQk()),2&e&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x"))}function B(e,i){1&e&&t.GkF(0)}const O=function(e){return{$implicit:e}};function S(e,i){if(1&e&&(t.ynx(0),t.YNc(1,B,1,0,"ng-container",62),t.BQk()),2&e){const n=t.oxw().$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("ngTemplateOutlet",s.rowDetailsTemplate)("ngTemplateOutletContext",t.VKq(2,O,n))}}function M(e,i){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",37),t.TgZ(2,"div",38),t.TgZ(3,"div",39),t.YNc(4,U,1,2,"img",40),t.YNc(5,J,2,0,"div",41),t.qZA(),t.qZA(),t.TgZ(6,"div",42),t._uU(7),t.qZA(),t.TgZ(8,"div",43),t._uU(9),t.qZA(),t.TgZ(10,"div",33),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"div",44),t.TgZ(14,"div",45),t._uU(15),t.qZA(),t.YNc(16,k,2,0,"div",46),t.YNc(17,q,2,0,"div",47),t.YNc(18,N,2,0,"div",48),t.qZA(),t.TgZ(19,"div",49),t.YNc(20,F,2,1,"ng-container",34),t.YNc(21,Y,2,1,"ng-container",34),t.qZA(),t.TgZ(22,"div"),t.TgZ(23,"button",50),t.NdJ("click",function(){const E=t.CHM(n).$implicit;return t.oxw(3).openDialog(E)}),t._UZ(24,"mat-icon",51),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",27),t.YNc(26,S,2,4,"ng-container",34),t.qZA(),t.BQk()}if(2&e){const n=i.$implicit,s=t.oxw(3);t.xp6(4),t.Q6J("ngIf",n.thumbnail),t.xp6(1),t.Q6J("ngIf",!n.thumbnail),t.xp6(2),t.hij(" ",n.sku," "),t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.hij(" ",t.gM2(12,13,n.price,"USD","symbol","1.2-2")," "),t.xp6(4),t.Oqu(n.stock),t.xp6(1),t.Q6J("ngIf",n.stock<20),t.xp6(1),t.Q6J("ngIf",n.stock>=20&&n.stock<30),t.xp6(1),t.Q6J("ngIf",n.stock>=30),t.xp6(2),t.Q6J("ngIf",n.active),t.xp6(1),t.Q6J("ngIf",!n.active),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:eye"),t.xp6(2),t.Q6J("ngIf",(null==s.selectedProduct?null:s.selectedProduct.id)===n.id)}}function z(e,i){if(1&e&&(t.ynx(0),t.YNc(1,M,27,18,"ng-container",36),t.BQk()),2&e){const n=i.ngIf,s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n)("ngForTrackBy",s.trackByFn)}}const D=function(e){return{"pointer-events-none":e}},L=function(){return[5,10,25,100]};function j(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t._UZ(3,"div"),t.TgZ(4,"div",29),t._uU(5," C\xf3digo "),t.qZA(),t.TgZ(6,"div",30),t._uU(7,"Nombre"),t.qZA(),t.TgZ(8,"div",31),t._uU(9," Precio "),t.qZA(),t.TgZ(10,"div",32),t._uU(11," Stock "),t.qZA(),t.TgZ(12,"div",32),t._uU(13," Activo "),t.qZA(),t.TgZ(14,"div",33),t._uU(15,"Detalles"),t.qZA(),t.qZA(),t.YNc(16,z,2,2,"ng-container",34),t.ALo(17,"async"),t._UZ(18,"mat-paginator",35),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(4),t.Q6J("mat-sort-header","sku"),t.xp6(2),t.Q6J("mat-sort-header","name"),t.xp6(2),t.Q6J("mat-sort-header","price"),t.xp6(2),t.Q6J("mat-sort-header","stock"),t.xp6(2),t.Q6J("mat-sort-header","active"),t.xp6(4),t.Q6J("ngIf",t.lcZ(17,12,n.customers$)),t.xp6(2),t.Q6J("ngClass",t.VKq(14,D,n.isLoading))("length",n.pagination.length)("pageIndex",n.pagination.page)("pageSize",n.pagination.size)("pageSizeOptions",t.DdM(16,L))("showFirstLastButtons",!0)}}function H(e,i){1&e&&(t.TgZ(0,"div",63),t._uU(1,"No ha creado ningun cliente a\xfan!"),t.qZA())}const R=[{path:"",component:(()=>{class e{constructor(n,s,r){this._changeDetectorRef=n,this._customerService=s,this._router=r,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new c.NI,this.selectedCustomer=null,this._unsubscribeAll=new x.xQ}ngOnInit(){}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,h.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0,this.closeDetails()}),(0,_.T)(this._sort.sortChange,this._paginator.page).pipe((0,v.w)(()=>(this.closeDetails(),this.isLoading=!0,this._customerService.getCustomers(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,Z.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}closeDetails(){this.selectedCustomer=null}createCustomer(){this._router.navigateByUrl("/modules/customers/new")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO),t.Y36(T.v),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["customers"]],viewQuery:function(n,s){if(1&n&&(t.Gf(d.NW,5),t.Gf(m.YE,5)),2&n){let r;t.iGM(r=t.CRH())&&(s._paginator=r.first),t.iGM(r=t.CRH())&&(s._sort=r.first)}},decls:36,vars:9,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"hidden","sm:flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","sm:text-2xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","flex-shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","bg-primary-500","text-white","rounded-md","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","filter-post"],[1,"flex","flex-col","mx-4","sm:mx-8","mt-6","mb-3"],[1,"flex","items-start"],[1,"fuse-mat-dense","fuse-mat-no-subscript","min-w-50","border-none"],["matInput","","type","text",3,"formControl","autocomplete","placeholder"],[1,"max-h-120","overflow-y-auto"],[4,"ngIf","ngIfElse"],["noCustomers",""],[1,"grid"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"hidden","md:block",3,"mat-sort-header"],[3,"mat-sort-header"],[1,"hidden","sm:block",3,"mat-sort-header"],[1,"hidden","lg:block",3,"mat-sort-header"],[1,"hidden","sm:block"],[4,"ngIf"],[1,"sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inventory-grid","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b"],[1,"flex","items-center"],[1,"relative","flex","flex-0","items-center","justify-center","w-12","h-12","mr-6","rounded","overflow-hidden","border"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"hidden","md:block","truncate"],[1,"truncate"],[1,"hidden","lg:flex","items-center"],[1,"min-w-4"],["class","flex items-end ml-2 w-1 h-4 bg-red-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end ml-2 w-1 h-4 bg-orange-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end ml-2 w-1 h-4 bg-green-100 rounded overflow-hidden",4,"ngIf"],[1,"hidden","lg:block"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"flex","items-end","ml-2","w-1","h-4","bg-red-200","rounded","overflow-hidden"],[1,"flex","w-full","h-1/3","bg-red-600"],[1,"flex","items-end","ml-2","w-1","h-4","bg-orange-200","rounded","overflow-hidden"],[1,"flex","w-full","h-2/4","bg-orange-400"],[1,"flex","items-end","ml-2","w-1","h-4","bg-green-100","rounded","overflow-hidden"],[1,"flex","w-full","h-full","bg-green-400"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(n,s){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.TgZ(4,"div",3),t.TgZ(5,"div"),t.TgZ(6,"a",4),t._uU(7,"M\xf3dulos"),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t._UZ(9,"mat-icon",6),t.TgZ(10,"a",7),t._uU(11,"Clientes"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",8),t.TgZ(13,"a",9),t._UZ(14,"mat-icon",6),t.TgZ(15,"span",10),t._uU(16,"Regresar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",11),t.TgZ(18,"div",12),t._uU(19," Clientes "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"button",14),t.NdJ("click",function(){return s.createCustomer()}),t._UZ(22,"mat-icon",15),t.TgZ(23,"span",16),t._uU(24,"Nuevo Cliente"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",17),t.TgZ(26,"div",18),t.TgZ(27,"fuse-card",19),t.TgZ(28,"div",20),t.TgZ(29,"div",21),t.TgZ(30,"mat-form-field",22),t._UZ(31,"input",23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",24),t.YNc(33,j,19,17,"ng-container",25),t.YNc(34,H,2,0,"ng-template",null,26,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const r=t.MAs(35);t.xp6(9),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(4),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(8),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(9),t.Q6J("formControl",s.searchInputControl)("autocomplete","off")("placeholder","Nombre..."),t.xp6(2),t.Q6J("ngIf",s.customers$)("ngIfElse",r)}},directives:[A.PQ,b.Hw,l.yS,y.lW,w.y,I.KE,Q.Nt,c.Fj,c.JJ,c.oH,a.O5,m.YE,m.nU,d.NW,a.mk,a.sg,a.tP],pipes:[a.Ov,a.H9],styles:[".inventory-grid{grid-template-columns:48px auto 40px}@media (min-width: 600px){.inventory-grid{grid-template-columns:48px auto 112px 72px}}@media (min-width: 960px){.inventory-grid{grid-template-columns:48px 112px auto 112px 72px}}@media (min-width: 1280px){.inventory-grid{grid-template-columns:48px 112px auto 112px 96px 96px 72px}}\n"],encapsulation:2,data:{animation:C.L},changeDetection:0}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.fC,p.J,l.Bz.forChild(R),f.m]]}),e})()}}]);