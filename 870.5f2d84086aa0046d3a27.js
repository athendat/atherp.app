"use strict";(self.webpackChunkpa006_atherp_front=self.webpackChunkpa006_atherp_front||[]).push([[870],{870:(w,g,o)=>{o.r(g),o.d(g,{HrmDepartmentsModule:()=>Y});var s=o(6274),c=o(4576),p=o(7319),h=o(4296),u=o(195),f=o(3324),x=o(2578),m=o(2397),Z=o(6006),v=o(7194),_=o(7914),T=o(5238),A=o(316),t=o(2741),D=o(5712),y=o(9618),b=o(4847),I=o(1749),C=o(7617),Q=o(3700);function k(e,r){1&e&&(t.ynx(0),t._UZ(1,"mat-icon",39),t.BQk()),2&e&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check"))}function U(e,r){1&e&&(t.ynx(0),t._UZ(1,"mat-icon",40),t.BQk()),2&e&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x"))}function H(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",31),t.TgZ(2,"div",32),t._uU(3),t.qZA(),t.TgZ(4,"div",32),t._uU(5),t.qZA(),t.TgZ(6,"div",33),t._uU(7),t.qZA(),t.TgZ(8,"div",34),t.YNc(9,k,2,1,"ng-container",21),t.YNc(10,U,2,1,"ng-container",21),t.qZA(),t.TgZ(11,"div",35),t.TgZ(12,"button",36),t._UZ(13,"mat-icon",37),t.qZA(),t.TgZ(14,"button",38),t.NdJ("click",function(){const l=t.CHM(n).$implicit;return t.oxw(4).editDepartment(l)}),t._UZ(15,"mat-icon",37),t.qZA(),t.TgZ(16,"button",36),t._UZ(17,"mat-icon",37),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=r.$implicit;t.xp6(3),t.hij(" ",n.businessId.name," "),t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.hij(" ",n.description," "),t.xp6(2),t.Q6J("ngIf",n.active),t.xp6(1),t.Q6J("ngIf",!n.active),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:eye"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}function J(e,r){if(1&e&&(t.ynx(0),t.YNc(1,H,18,8,"ng-container",30),t.BQk()),2&e){const n=r.ngIf,i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n)("ngForTrackBy",i.trackByFn)}}function q(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"div",24),t.TgZ(2,"div",25),t.TgZ(3,"div",26),t._uU(4," Negocio "),t.qZA(),t.TgZ(5,"div",26),t._uU(6," Nombre "),t.qZA(),t.TgZ(7,"div",27),t._uU(8," Descripci\xf3n "),t.qZA(),t.TgZ(9,"div",28),t._uU(10," Activo "),t.qZA(),t.TgZ(11,"div",29),t._uU(12," Acciones "),t.qZA(),t.qZA(),t.YNc(13,J,2,2,"ng-container",21),t.ALo(14,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(3),t.Q6J("mat-sort-header","business"),t.xp6(2),t.Q6J("mat-sort-header","name"),t.xp6(4),t.Q6J("mat-sort-header","active"),t.xp6(4),t.Q6J("ngIf",t.lcZ(14,4,n.departments$))}}function F(e,r){if(1&e&&(t.ynx(0),t.YNc(1,q,15,6,"ng-container",23),t.BQk()),2&e){const n=t.oxw(),i=t.MAs(36);t.xp6(1),t.Q6J("ngIf",n.departments$)("ngIfElse",i)}}function N(e,r){1&e&&(t.TgZ(0,"div",41),t._uU(1,"No ha creado ningun departamento a\xfan!"),t.qZA())}const M=[{path:"",component:(()=>{class e{constructor(n,i,a,l,d){this._activatedRoute=n,this._changeDetectorRef=i,this._hrmService=a,this._router=l,this.dialog=d,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new f.NI,this.selectedDepartment=null,this._unsubscribeAll=new Z.xQ}ngOnInit(){this._activatedRoute.params.pipe((0,v.R)(this._unsubscribeAll)).subscribe(({businessId:n})=>{void 0!==n&&(this.businessId=n,this._changeDetectorRef.markForCheck())}),this.departments$=this._hrmService.departments$}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}closeDetails(){this.selectedDepartment=null}createDepartment(){this._openDialog(A.R,"add")}editDepartment(n){this._openDialog(n,"edit")}showFlashMessage(n){this.flashMessage=n,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}trackByFn(n,i){return i.id||n}_openDialog(n,i){this.dialog.open(T.g,{width:"600px",data:{department:n,dialogMode:i},panelClass:"ath-dialog-panel"})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.gz),t.Y36(t.sBO),t.Y36(D.E),t.Y36(c.F0),t.Y36(y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["hrm-departments"]],viewQuery:function(n,i){if(1&n&&(t.Gf(x.NW,5),t.Gf(m.YE,5)),2&n){let a;t.iGM(a=t.CRH())&&(i._paginator=a.first),t.iGM(a=t.CRH())&&(i._sort=a.first)}},decls:37,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"hidden","sm:flex","flex-wrap","items-center","font-medium"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","sm:text-2xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","flex-shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","bg-primary-500","text-white","rounded-md","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","filter-post"],[1,"max-h-120","overflow-y-auto"],[4,"ngIf"],["nodepartments",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"departments-table","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"text-center","hidden","md:block",3,"mat-sort-header"],[1,"text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"departments-table","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b"],[1,"truncate"],[1,"hidden","lg:block","truncate"],[1,"hidden","md:block","text-center"],[1,"flex","flex-col","md:flex-row","gap-2","justify-center"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"a",5),t._uU(7,"Inicio"),t.qZA(),t.qZA(),t.TgZ(8,"div",4),t._UZ(9,"mat-icon",6),t.TgZ(10,"a",5),t._uU(11,"Recursos Humanos"),t.qZA(),t.qZA(),t.TgZ(12,"div",4),t._UZ(13,"mat-icon",6),t.TgZ(14,"a",7),t._uU(15,"Departamentos"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",8),t.TgZ(17,"a",9),t._UZ(18,"mat-icon",6),t.TgZ(19,"span",10),t._uU(20,"Regresar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t._uU(23," Departamentos "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",13),t.TgZ(25,"button",14),t.NdJ("click",function(){return i.createDepartment()}),t._UZ(26,"mat-icon",15),t.TgZ(27,"span",16),t._uU(28,"Nuevo Departamento"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",17),t.TgZ(30,"div",18),t.TgZ(31,"fuse-card",19),t.TgZ(32,"div",20),t.YNc(33,F,2,2,"ng-container",21),t.ALo(34,"async"),t.YNc(35,N,2,0,"ng-template",null,22,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(6),t.MGl("routerLink","/home/",i.businessId,""),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(1),t.MGl("routerLink","/home/",i.businessId,"/modules/hrm/"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(4),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(8),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(7),t.Q6J("ngIf",t.lcZ(34,8,i.departments$)))},directives:[b.PQ,c.yS,I.Hw,C.lW,Q.y,s.O5,m.YE,m.nU,s.sg],pipes:[s.Ov],encapsulation:2,data:{animation:_.L},changeDetection:0}),e})()}];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,p.fC,h.J,c.Bz.forChild(M),u.m]]}),e})()}}]);