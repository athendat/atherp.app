"use strict";(self.webpackChunkpa006_atherp_front=self.webpackChunkpa006_atherp_front||[]).push([[592],{7554:(S,C,r)=>{r.d(C,{v:()=>B});var p=r(9923),M=r(7535),i=r(267),h=r(6286),_=r(9917),u=r(8561),c=r(2812),m=r(3305),L=r(2741),x=r(1887);let B=(()=>{class E{constructor(a){this._httpClient=a,this._pagination=new p.X(null),this._customer=new p.X(null),this._customers=new p.X(null)}get pagination$(){return this._pagination.asObservable()}get customer$(){return this._customer.asObservable()}get customers$(){return this._customers.asObservable()}getCustomers(a=0,e=10,n="name",g="asc",t=""){return this._httpClient.get("api/Customer",{params:{page:""+a,size:""+e,sort:n,order:g,search:t}}).pipe((0,h.b)(o=>{this._pagination.next(o.pagination),this._customers.next(o.customer)}))}getcustomerById(a){return this._customers.pipe((0,_.q)(1),(0,u.U)(e=>{const n=e.find(g=>g._id===a)||null;return this._customer.next(n),n}),(0,c.w)(e=>e?(0,i.of)(e):(0,M._)("Could not found customer with id of "+a+"!")))}createCustomer(a){return this.customers$.pipe((0,_.q)(1),(0,c.w)(e=>this._httpClient.post("api/Customer",a).pipe((0,u.U)(n=>(this._customers.next([n,...e]),n)))))}updateCustomer(a,e){return this.customers$.pipe((0,_.q)(1),(0,c.w)(n=>this._httpClient.patch("api/customer",{id:a,customer:e}).pipe((0,u.U)(g=>{const t=n.findIndex(o=>o._id===a);return n[t]=g,this._customers.next(n),g}),(0,c.w)(g=>this.customer$.pipe((0,_.q)(1),(0,m.h)(t=>t&&t._id===a),(0,h.b)(()=>(this._customer.next(g),g)))))))}deleteCustomer(a){return this.customers$.pipe((0,_.q)(1),(0,c.w)(e=>this._httpClient.delete("api/customer",{params:{id:a}}).pipe((0,u.U)(n=>{const g=e.findIndex(t=>t._id===a);return e.splice(g,1),this._customers.next(e),n}))))}}return E.\u0275fac=function(a){return new(a||E)(L.LFG(x.eN))},E.\u0275prov=L.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},8412:(S,C,r)=>{r.d(C,{Z:()=>e});var p=r(9923),M=r(7535),i=r(267),h=r(9917),_=r(8561),u=r(6286),c=r(2812),m=r(3305),L=r(4766),x=r(6243),E=r(2741),s=r(1887);const a=L.N.API_URL;let e=(()=>{class n{constructor(t){this._httpClient=t,this._pagination=new p.X(null),this._charge=new p.X(null),this._charges=new p.X(null)}get pagination$(){return this._pagination.asObservable()}get charge$(){return this._charge.asObservable()}get charges$(){return this._charges.asObservable()}getSortCharges(t=0,o=10,l="name",v="asc"){return this.charges$.pipe((0,h.q)(1),(0,_.U)(R=>{const d=l||"name",I=v||"asc",P=t,D=o;let O=(0,x.cloneDeep)(R);O.sort("name"===d||"salary"===d||"requirement"===d||"active"===d?(y,K)=>{const F=y[d].toString().toUpperCase(),$=K[d].toString().toUpperCase();return"asc"===I?F.localeCompare($):$.localeCompare(F)}:(y,K)=>"asc"===I?y[d]-K[d]:K[d]-y[d]);const f=O.length,U=P*D,W=Math.min(D*(P+1),f),T=Math.max(Math.ceil(f/D),1);let A;return P>T?(O=null,A={lastPage:T}):(O=O.slice(U,W),A={length:f,size:D,page:P,lastPage:T,startIndex:U,endIndex:W-1}),this._charges.next(O),this._pagination.next(A),{charges:O,pagination:A}}))}getChargesByBusinessOwner(t){return this._httpClient.get(`${a}/Charges/owner/${t}`).pipe((0,u.b)(o=>{const l=o.charges.length,O=Math.min(10,l),f=Math.max(Math.ceil(l/10),1);let U;0>f?(o.charges=null,U={lastPage:f}):(o.charges=o.charges.slice(0,O),U={length:l,size:10,page:0,lastPage:f,startIndex:0,endIndex:O-1}),this._pagination.next(U),this._charges.next(o.charges)}))}getChargeById(t){return this._charges.pipe((0,h.q)(1),(0,_.U)(o=>{const l=o.find(v=>v._id===t)||null;return this._charge.next(l),l}),(0,c.w)(o=>o?(0,i.of)(o):(0,M._)("Could not found charge with id of "+t+"!")))}createCharge(t){return this.charges$.pipe((0,h.q)(1),(0,c.w)(o=>this._httpClient.post(`${a}/charges`,t).pipe((0,_.U)(l=>(console.log(l),this._charges.next([l.charge,...o]),l)))))}updateCharge(t){return this.charges$.pipe((0,h.q)(1),(0,c.w)(o=>this._httpClient.patch(`${a}/charges/${t._id}`,t).pipe((0,_.U)(l=>{const v=o.findIndex(R=>R._id===t._id);return o[v]=l.updatedCharge,this._charges.next(o),l.updatedCharge}),(0,c.w)(l=>this.charge$.pipe((0,h.q)(1),(0,m.h)(v=>v&&v._id===t._id),(0,u.b)(()=>(this._charge.next(l),l)))))))}deleteCharge(t){return this.charges$.pipe((0,h.q)(1),(0,c.w)(o=>this._httpClient.delete(`${a}/charges/${t}`).pipe((0,_.U)(l=>{const v=o.findIndex(R=>R._id===t);return o.splice(v,1),this._charges.next(o),l}))))}}return n.\u0275fac=function(t){return new(t||n)(E.LFG(s.eN))},n.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},6151:(S,C,r)=>{r.d(C,{c:()=>m,Q:()=>L,mR:()=>x,AO:()=>B,n7:()=>E});var p=r(6006),M=r(7194),i=r(2741),h=r(8412),_=r(4576),u=r(8418),c=r(5712);let m=(()=>{class s{constructor(e,n,g){this._chargesService=e,this._router=n,this._userService=g,this._unsubscribeAll=new p.xQ,this._userService.user$.pipe((0,M.R)(this._unsubscribeAll)).subscribe(t=>{this._user=t,this._businessOwnerId=t.businessOwnerId?t.businessOwnerId:t._id})}resolve(e,n){return this._chargesService.getChargesByBusinessOwner(this._businessOwnerId)}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(h.Z),i.LFG(_.F0),i.LFG(u.K))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),L=(()=>{class s{constructor(e,n,g){this._hrmService=e,this._router=n,this._userService=g,this._unsubscribeAll=new p.xQ,this._userService.user$.pipe((0,M.R)(this._unsubscribeAll)).subscribe(t=>{this._user=t,this._businessOwnerId=t.businessOwnerId?t.businessOwnerId:t._id})}resolve(e,n){return this._hrmService.getEmployeesByBusinessOwner(this._businessOwnerId)}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(c.E),i.LFG(_.F0),i.LFG(u.K))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),x=(()=>{class s{constructor(e,n){this._hrmService=e,this._router=n}resolve(e,n){return this._hrmService.getSalaryFrequency()}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(c.E),i.LFG(_.F0))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),B=(()=>{class s{constructor(e,n){this._hrmService=e,this._router=n}resolve(e,n){return this._hrmService.getSalaryMethods()}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(c.E),i.LFG(_.F0))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),E=(()=>{class s{constructor(e,n){this._hrmService=e,this._router=n}resolve(e,n){return this._hrmService.getScholarship()}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(c.E),i.LFG(_.F0))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},1018:(S,C,r)=>{r.d(C,{V:()=>i});var p=r(2578);const M=(h,_,u)=>{if(0===u||0===_)return`0 de ${u}`;const c=h*_;return`${c+1} - ${c<(u=Math.max(u,0))?Math.min(c+_,u):c+_} de ${u}`};function i(){const h=new p.ye;return h.firstPageLabel="Primera p\xe1gina",h.itemsPerPageLabel="Elementos por p\xe1gina:",h.nextPageLabel="P\xe1gina siguiente",h.previousPageLabel="P\xe1gina anterior",h.lastPageLabel="\xdaltima p\xe1gina",h.getRangeLabel=M,h}}}]);